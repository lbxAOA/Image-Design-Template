# 矢量场图 (Vector Field Plot)

## 📊 图表简介

矢量场图是用**箭头**来表示空间中每个点的**矢量方向和大小**的图表，常用于展示速度场、力场、梯度场等物理量的空间分布。

## 🎯 适用场景

| 场景 | 说明 |
|------|------|
| **流体力学** | 流场速度分布 |
| **电磁学** | 电场、磁场分布 |
| **气象学** | 风场、气压梯度 |
| **梯度分析** | 函数的梯度场 |
| **优化算法** | 梯度下降方向可视化 |

## 📈 图表分类

### 1. 箭头图 (Quiver Plot)
- 用箭头表示矢量
- 最直观的矢量场表示

### 2. 流线图 (Streamline Plot)
- 沿矢量方向的曲线
- 展示流动路径

### 3. 带颜色映射的箭头图
- 箭头颜色表示矢量大小
- 同时展示方向和强度

### 4. 等高线+矢量场叠加
- 标量场等高线 + 矢量场箭头
- 展示势函数和梯度方向

### 5. 3D矢量场图
- 三维空间中的矢量场
- 使用 `quiver3()`

## ⚖️ 与相似图表的对比

| 对比图表 | 矢量场图优势 | 矢量场图劣势 |
|----------|-----------|-----------|
| **等高线图** | 展示方向信息 | 仅展示二维矢量 |
| **热力图** | 同时展示方向和大小 | 信息密度更高，可能拥挤 |
| **流线图** | 箭头更直观 | 不如流线展示完整路径 |

## 🔄 矢量场的主要表示方法

### 箭头图 (Quiver)
- ✅ 直观展示每个点的矢量
- ✅ 方向和大小一目了然
- ❌ 箭头过密时会重叠

### 流线图 (Streamline)
- ✅ 展示完整的流动路径
- ✅ 适合展示流体运动
- ❌ 不直接展示矢量大小

### 最佳实践
```
组合使用：
- 背景：等高线图或热力图（标量场）
- 前景：箭头或流线（矢量场）
```

## 🤔 如何选择

```
展示目的？
├── 每点的矢量方向和大小 → 箭头图
├── 流动路径 → 流线图
├── 矢量大小强调 → 带颜色映射的箭头图
└── 标量+矢量 → 等高线+箭头叠加

矢量场密度？
├── 稀疏网格 → 箭头图
├── 密集网格 → 流线图或降采样
└── 关注局部 → 放大局部区域

维度？
├── 2D矢量场 → quiver() 或 streamline()
└── 3D矢量场 → quiver3() 或 streamline3()
```

## 💡 使用建议

1. **箭头密度**：
   - 太密：箭头重叠
   - 太稀：丢失细节
   - 建议：20×20网格左右
2. **箭头缩放**：
   - 自动缩放：`quiver(X,Y,U,V)` 自动调整
   - 手动控制：`quiver(X,Y,U,V,scale)`
3. **颜色映射**：
   - 用颜色表示矢量大小
   - 增强信息密度
4. **流线起点**：
   - 均匀分布的起点
   - 或根据兴趣区域选择
5. **背景叠加**：
   - 叠加等高线或热力图
   - 展示标量势函数
6. **箭头样式**：
   - 调整线宽、颜色
   - 使用 `LineWidth` 参数

## 📐 关键MATLAB函数

| 函数 | 用途 |
|------|------|
| `quiver(X,Y,U,V)` | 2D箭头图 |
| `quiver3(X,Y,Z,U,V,W)` | 3D箭头图 |
| `streamline(X,Y,U,V,sx,sy)` | 流线图 |
| `streamslice(X,Y,U,V)` | 流线切片图 |
| `coneplot()` | 3D锥形矢量图 |

## 📐 物理含义

| 矢量场特征 | 物理含义 |
|------------|----------|
| 发散（向外） | 源点 |
| 汇聚（向内） | 汇点 |
| 旋转 | 涡旋 |
| 平行 | 均匀场 |
| 闭合流线 | 稳定涡旋 |

## ⚠️ 注意事项

1. **箭头重叠**：降低网格密度或使用流线图
2. **比例一致**：保持X/Y轴比例一致 `axis equal`
3. **箭头大小**：过大或过小都影响可读性
4. **边界条件**：注意边界处的矢量可能不完整
5. **数值稳定性**：奇异点附近的箭头可能异常

## 🎨 典型示例

### 旋涡场
```matlab
[X, Y] = meshgrid(-2:0.2:2);
U = -Y;  % 切向速度
V = X;   % 径向速度
quiver(X, Y, U, V);
```

### 源场
```matlab
[X, Y] = meshgrid(-2:0.2:2);
R = sqrt(X.^2 + Y.^2) + 0.1;
U = X ./ R;
V = Y ./ R;
quiver(X, Y, U, V);
```

### 梯度场
```matlab
[X, Y] = meshgrid(-2:0.1:2);
Z = X.^2 + Y.^2;  % 标量场
[U, V] = gradient(Z);  % 梯度
contour(X, Y, Z);
hold on;
quiver(X, Y, U, V);
```
