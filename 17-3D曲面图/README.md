# 3D曲面图 (3D Surface Plot)

## 📊 图表简介

3D曲面图是在三维坐标系中用**连续曲面**展示三个变量关系（$z = f(x, y)$）的图表，通过颜色和高度同时表示数值变化。

## 🎯 适用场景

| 场景 | 说明 |
|------|------|
| **数学函数** | 二元函数的可视化 |
| **响应曲面** | 实验设计中的响应曲面分析 |
| **地形数据** | 地形高度的立体展示 |
| **物理场** | 温度场、压力场、电势场 |
| **优化分析** | 目标函数的最优解搜索 |

## 📈 图表分类

### 1. 基础曲面图
- 使用 `surf()` 函数
- 颜色映射 + 高度展示

### 2. 网格曲面图
- 使用 `mesh()` 函数
- 仅显示网格线，透明曲面

### 3. 带等高线的曲面图
- 曲面 + 底部等高线投影
- 使用 `surfc()` 函数

### 4. 瀑布图
- 使用 `waterfall()` 函数
- 显示部分截面线

### 5. 着色曲面图
- 使用 `shading interp` 平滑着色
- 视觉效果更佳

## ⚖️ 与相似图表的对比

| 对比图表 | 3D曲面图优势 | 3D曲面图劣势 |
|----------|-----------|-----------|
| **等高线图** | 立体直观，整体感强 | 存在视角死角 |
| **热力图** | 展示空间关系 | 精确数值读取困难 |
| **3D散点图** | 展示连续曲面 | 不适合离散数据 |

## 🔄 3D曲面图 vs 等高线图

### 3D曲面图
- ✅ 立体直观，有空间感
- ✅ 适合展示整体形态
- ❌ 存在视角遮挡问题
- ❌ 精确数值难以读取

### 等高线图
- ✅ 无视角问题，信息完整
- ✅ 便于精确读数
- ❌ 缺乏立体感
- ❌ 对非专业读者不直观

### 最佳实践
```
同时使用两种图表：
1. 3D曲面图：整体展示，建立直觉
2. 等高线图：详细分析，精确读数
```

## 🤔 如何选择

```
数据类型？
├── z = f(x,y) 连续函数 → 3D曲面图
├── 离散三维数据点 → 3D散点图
├── 需要精确分析 → 等高线图
└── 强调平面分布 → 热力图

展示目的？
├── 整体形态展示 → 3D曲面图
├── 详细数值分析 → 等高线图
├── 极值点定位 → 等高线图或3D曲面图
└── 梯度方向 → 等高线图 + 矢量场

受众？
├── 专业人士 → 等高线图可能更适合
└── 一般读者 → 3D曲面图更直观
```

## 💡 使用建议

1. **视角选择**：
   - `view(az, el)` 设置方位角和仰角
   - 常用视角：`view(45, 30)` 或 `view(-37.5, 30)`
2. **颜色映射**：
   - `colormap(jet)` - 经典彩虹色
   - `colormap(parula)` - 默认，感知均匀
   - `colormap(hot)` - 热色调
3. **着色模式**：
   - `shading flat` - 平面着色
   - `shading interp` - 插值平滑
   - `shading faceted` - 带网格线
4. **光照效果**：使用 `light` 和 `lighting` 增强立体感
5. **透明度**：`alpha()` 设置透明度，便于看到内部结构
6. **网格密度**：根据数据特征选择合适的网格密度
7. **颜色条**：添加 `colorbar` 说明颜色含义

## 📐 关键MATLAB函数

| 函数 | 用途 |
|------|------|
| `surf(X,Y,Z)` | 基础曲面图 |
| `mesh(X,Y,Z)` | 网格曲面图 |
| `surfc(X,Y,Z)` | 曲面 + 等高线 |
| `surfl(X,Y,Z)` | 带光照的曲面 |
| `meshgrid()` | 创建网格坐标 |
| `peaks()` | 生成示例曲面数据 |

## ⚠️ 注意事项

1. **视角遮挡**：某些视角可能遮挡重要信息
2. **数据量**：网格过密会影响渲染性能
3. **颜色选择**：避免使用对色盲不友好的颜色
4. **打印问题**：3D图表打印后可能丢失深度信息
5. **交互性**：可使用 `rotate3d on` 启用交互旋转

## 🎨 美化技巧

```matlab
% 基础美化设置
surf(X, Y, Z);
colormap(jet);
shading interp;
alpha(0.9);

% 添加光照
light('Position', [1 0 1], 'Style', 'infinite');
lighting gouraud;
material shiny;

% 设置坐标轴
xlabel('X'); ylabel('Y'); zlabel('Z');
axis tight;
grid on;
box on;
```
